const{board:t}=window.miro,e={card:{textFields:["title","description"]},image:{textFields:["title","url"]},shape:{textFields:["content"]},sticky_note:{textFields:["content"]},text:{textFields:["content"]}};function n(t){var e=new Array;const n=[...t.matchAll("[$]{1}[a-zA-Z0-9äöüÄÖÜ]+")];for(var o of n)e.push(o[0].substring(1));return e}function o(t,e){var o=new Array;for(var r of e.textFields){const e=n(t[r]);o.push(...e)}return o}async function r(){var n={};for(var r in e){let i=await t.get({type:[r]});for(var a of i){const t=o(a,e[r]);(null==t?void 0:t.length)&&(n[a.id]=t)}}return n}function a(t,n,o){console.log(t.x,n,o);var r=e[t.type];const a=t.width,i=t.height;for(var l of r.textFields)t[l]=t[l].replace("$"+n,o);t.width=a,t.height=i,t.sync(),console.log(t,n,o)}async function i(e){var n=await r(),o=await t.getAppData("variables"),i=function(t,e){var n=new Array;for(var o in e)e[o].includes(t)&&n.push(o);return n}(e,n),l=o[e];if(console.log(l),null!=l&&null!=l&&""!=l)for(var c of i)try{a(await t.getById(c),e,l)}catch(s){console.log(s)}}export{r as findVariables,i as setVariables};
